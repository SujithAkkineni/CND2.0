extends layout

block content
  h1 Browse Delicious Dishes

  p Database Status: Connected and found #{dishes ? dishes.length : 0} dishes

  if dishes && dishes.length > 0
    each dish in dishes
      .dish-item
        h2= dish.name
        p= dish.description || 'Authentic South Indian home-cooked meal'
        p Price: â‚¹#{dish.price}
        p Available: #{dish.quantity} servings
        p By: #{dish.seller}
        img(src=dish.image, alt=dish.name, width='200', height='150')
        form(action=`/order/${dish._id}`, method='POST')
          input(type='number', name='quantity', min='1', max=dish.quantity, value='1')
          button(type='submit') Order Now
        hr
  else
    p No dishes available. Check `/sell` to add some dishes to get started!

  style.
    .dish-item { margin: 20px; padding: 15px; border: 1px solid #ccc; }
